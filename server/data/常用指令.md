# <font color="#9bbb59"><font color="#00b0f0">android</font></font>

| 操作                          | 指令                                                                                                                                                                                                                                                                             |
| --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 打印当前界面                      | activity dumpsys activity \| grep -i run                                                                                                                                                                                                                                       |
| 根据关键字查询                     | grep -rn "xxx"                                                                                                                                                                                                                                                                 |
| 打印log                       | android.util.Log.d("liziluo","test_log: ");                                                                                                                                                                                                                                    |
| 查看包名                        | pm list package -f \|grep -i gpstest                                                                                                                                                                                                                                           |
| 增大log打印容量                   | adb logcat -G 100M  ;	adb logcat \| grep -i "liziluo"                                                                                                                                                                                                                          |
| 查看当前界面的包名和方法                | adb shell dumpsys window \| grep mCurrentFocus                                                                                                                                                                                                                                 |
| 根据包名查apk的名字                 | adb shell pm path com.android.vending                                                                                                                                                                                                                                          |
| 强制删除apk                     | adb root    <br>adb remount     <br>adb shell rm /system/priv-app/Phonesky/Phonesky.apk                                                                                                                                                                                        |
| 启动app                       | adb shell am  start -n com.mediatek.engineermode/com.mediatek.engineermode.EngineerMode                                                                                                                                                                                        |
| 获取persist开头系统属性             | adb shell getprop \| grep persist                                                                                                                                                                                                                                              |
| 查看系统数据库的值                   | adb shell settings get system "gloves_mode"                                                                                                                                                                                                                                    |
| 点击事件                        | adb logcat -b events                                                                                                                                                                                                                                                           |
| 使用此命令获取 apk 对应的包名           | adb shell pm list package                                                                                                                                                                                                                                                      |
| 使用此命令获取 apk 的安装路径           | adb shell pm path <package_name>                                                                                                                                                                                                                                               |
| 导出 apk 文件                   | adb pull /data/app/ru.zdevs.zarchiver-1/base.apk                                                                                                                                                                                                                               |
| 打印关键字的日志                    | adb logcat window \|grep 204                                                                                                                                                                                                                                                   |
| 查看app对应的进程存活情况              | adb shell ps -A                                                                                                                                                                                                                                                                |
| 查看内存信息                      | adb shell getprop \|grep -i cpu                                                                                                                                                                                                                                                |
| 查看栈顶包名：                     | adb shell dumpsys SurfaceFlinger                                                                                                                                                                                                                                               |
| 抓取报错log                     | adb logcat -b crash                                                                                                                                                                                                                                                            |
| 包名/类名  启动应用                 | adb shell am start –n  com.mbw.testcase/.TestMainActivity                                                                                                                                                                                                                      |
| 录制手机视频                      | adb shell screenrecord --bugreport /sdcard/demo.mp4                                                                                                                                                                                                                            |
| 查看运行内存                      | adb shell cat proc/meminfo                                                                                                                                                                                                                                                     |
| 获取CPU节点信息                   | adb shell；cat /sys/devices/system/cpu/cpu3/cpufreq/cpuinfo_cur_freq                                                                                                                                                                                                            |
| 查看节点                        | adb shell su  find -name "节点路径"                                                                                                                                                                                                                                                |
| 查看系统apk信息                   | adb shell dumpsys package p > dumpsys_p                                                                                                                                                                                                                                        |
| 通过-E来过滤多个标签                 | adb logcat \| grep -E “tag1\|tag2”                                                                                                                                                                                                                                             |
| 既在Terminal输出Log同时保存到文件里面    | adb logcat \| tee a.txt                                                                                                                                                                                                                                                        |
| 修改了Framework代码之后，快速刷入到手机的方式 | adb remount； cd ; adb sync system; adb reboot;                                                                                                                                                                                                                                 |
| 发送广播改变电池电量和温度               | adb shell am broadcast -a android.intent.action.BATTERY_CHANGED –ei temperature 300 –ei level 50                                                                                                                                                                               |
| pm命令                        | adb shell pm list packages [PackageName] 列出系统安装所有应用的包名 <br>adb shell pm list packages -f [PackageName] 列出APK安装的位置 <br>adb shell pm dump [PackageName] dump APK的Activity等 <br> adb shell pm list permissions -g -d 查看所有danguerous的权限 <br>adb shell pm [grant\| revoke] ... 授予权限 |
| dump系统服务                    | adb shell service list 列出所有系统服务 然后通过dumpsys media.camera 打印media.camera服务的信息                                                                                                                                                                                                   |
| 关闭selinux                   | adb root    adb shell setenforce 0                                                                                                                                                                                                                                             |
| 查看屏幕报点                      | adb shell -> getevent  /  getevent -tlr /dev/input/event4                                                                                                                                                                                                                      |
| 获取event事件                   | adb shell getevent  -ltr                                                                                                                                                                                                                                                       |
| adb打开mtklog                 | adb shell am start -n com.mediatek.mtklogger/com.mediatek.mtklogger.MainActivity                                                                                                                                                                                               |
| 查看cpu使用                     | adb shell  top -m 10 -s 9                                                                                                                                                                                                                                                      |
| 查看overlay信息                 | adb shell; cmd overlay package                                                                                                                                                                                                                                                 |
| 获取wlan mac地址                | adb shell ip addr show wlan0 \| grep link/ether \|awk '{print $2}'                                                                                                                                                                                                             |
| 查看应用冷启动时间                   | adb shell am start -W -n com.google.android.youtube/com.google.android.apps.youtube.app.watchwhile.InternalMainActivity                                                                                                                                                        |
| 反编译命令                       | ./jadx-gui GpsTest.apk                                                                                                                                                                                                                                                         |
| ota编译整包                     | make otapackage                                                                                                                                                                                                                                                                |
| ota升级                       | 进入 recovery 模式 进入 apply update form adb    在命令行中    adb sideload '/home/cdp/Desktop/xet509-ota-1619046191.zip'                                                                                                                                                                 |
| ota编译 差分包                   | 将两个ota包放在同一个目录下 ./build/tool/releasetools/ota_from_targer_files-1 ~/路径/旧包.zip ~/路径/新包.zip                                                                                                                                                                                      |
| 自动判断selinux                 | audit2allow -i avc.txt                                                                                                                                                                                                                                                         |
| adb wifi连接                  | adb tcpip 5555 <br>找到手机的IP地址，然后 adb connect 192.168.0.2:5555                                                                                                                                                                                                                   |
| adb devices连接不上的问题          | netstat -tunlp \| grep 5037 kill -9 xxxx                                                                                                                                                                                                                                       |
| 查看当前软件时间戳                   | getprop \| grep -i "build.date"                                                                                                                                                                                                                                                |
| 查看某个应用的线程数量信息等：             | 1：获取应用的端口:	 adb shell "ps \|grep com.wwy.setup" 获取PID(第二个数字)<br>2:   获取端口的信息:	 adb shell -> cat /proc/PID/status                                                                                                                                                               |
| 查看当前应用以及feature信息           | adb shell dumpsys package>package.txt                                                                                                                                                                                                                                          |
| adb录制带时间戳视频                 | adb shell screenrecord --bugreport /sdcard/test.mp4                                                                                                                                                                                                                            |
| 编译提示api需要update             | make api-stubs-docs-update-current-api                                                                                                                                                                                                                                         |
| 查看应用版本信息等                   | aapt dump badging NewFactoryDevelopX.apk                                                                                                                                                                                                                                       |
| adb shell下查询指定文件大小          | du -k -a \| grep "MtkSettings.apk"                                                                                                                                                                                                                                             |
| 查看某个kernel config是否开启       | adb shell -> zcat /proc/config.gz                                                                                                                                                                                                                                              |
| adb查看settings的值             | adb shell settings list global                                                                                                                                                                                                                                                 |
| shell下查找节点路径                | find /sys -iname "xxxxxx"                                                                                                                                                                                                                                                      |
| 制作开机动画指令                    | zip -r -0 bootanimation.zip part0 part1 desc.txt                                                                                                                                                                                                                               |
# <font color="#9bbb59"><font color="#00b0f0">linux</font></font>

| 操作                   | 指令                                                                  |
| -------------------- | ------------------------------------------------------------------- |
| 抓包进入带有Fiddler.exe文件夹 | mono Fiddler.exe                                                    |
| 查找文本内容               | grep -r “adb” .                                                     |
| 查找文件                 | find . -name *.text                                                 |
| 切换java版本             | cd /etc/alternatives    ->   sudo update-alternatives --config java |
| 安装deb文件              | sudo dpkg -i file.deb                                               |
| 压缩gz文件               | gzip xxxx                                                           |
| 解压gz文件               | gzip -d xxxx.gz                                                     |
| 查看目录下文件              | ls -AZ                                                              |
| 关闭当前窗口的软件            | xkill                                                               |
| 启动clash for windows  | 跟目录下执行:	./cfw                                                       |
| 查看当前文件夹大小，从大到小排列     | du -h --max-depth=1 \| sort -hr                                     |
| 生成指定大小的文件            | truncate -s 50100M b.txt                                            |
| 重启交换分区               | sudo swapoff -a<br>sudo swapon -a                                   |
| 重启ubuntu文件管理         | nautilus -q                                                         |
| 查看文件夹大小              | ncdu ...                                                            |
| ubuntu对比两个文件夹内容差异    | diff -rq xxa xxb<br>-r 目录下的子目录以及所有文件<br>-q 只显示差异文件名不显示具体内容          |
# <font color="#9bbb59"><font color="#00b0f0">git</font></font>

| 操作              | 指令                                                                                                      |
| --------------- | ------------------------------------------------------------------------------------------------------- |
| 清空repo仓库修改并更新代码 | repo forall -c "git reset --hard;git clean -fd";repo sync -c -d -j4 --no-tags                           |
| 查看提交记录          | git log 或者  gitk ./                                                                                     |
| git图形化 进入某个仓库   | cd framework/base/  gitk 如果提示需要安装gitk安装即可                                                               |
| git过滤出用户的提交     | git log --author=".*mediatek.*" --pretty=format:"%h %ad \| %s" --date=short -p > mediatek_systemui.diff |
|                 |                                                                                                         |
# <font color="#9bbb59"><font color="#00b0f0">others</font></font>

| 操作    | 指令                                                               |
| ----- | ---------------------------------------------------------------- |
| vue启动 | 运行 npm run serve<br>导出 npm run build                             |
| 拼接图片  | convert +append a b c.png   横向<br>convert -append a b c.png   竖直 |
| 缩放图片  | mogrify -resize 256x256! *.png                                   |
| 拉伸缩放  | convert input.jpg -resize 300x300! output.jpg                    |


